"line","is_font_bigger","is_different_style","is_font_unique","is_title_case","label"
"Trace-based Just-in-Time Type Specialization for Dynamic","True","False","True","True","heading"
"Languages","True","False","True","True","heading"
"Andreas Gal∗+, Brendan Eich∗, Mike Shaver∗, David Anderson∗, David Mandelin∗,","True","False","True","True","paragraph"
"Mohammad R. Haghighat$, Blake Kaplan∗, Graydon Hoare∗, Boris Zbarsky∗, Jason Orendorff∗,","True","False","True","True","paragraph"
"Jesse Ruderman∗, Edwin Smith#, Rick Reitmaier#, Michael Bebenita+, Mason Chang+#, Michael Franz+","True","False","True","True","paragraph"
"Mozilla Corporation∗","False","False","True","True","paragraph"
"{gal,brendan,shaver,danderson,dmandelin,mrbkap,graydon,bz,jorendorff,jruderman}@mozilla.com","False","False","True","False","paragraph"
"Adobe Corporation#","False","False","True","True","paragraph"
"{edwsmith,rreitmai}@adobe.com","False","False","True","False","paragraph"
"Intel Corporation$","False","False","True","True","paragraph"
"{mohammad.r.haghighat}@intel.com","False","False","True","False","paragraph"
"University of California, Irvine+","False","False","True","True","paragraph"
"{mbebenit,changm,franz}@uci.edu","False","False","True","False","paragraph"
"Abstract","True","False","True","True","heading"
"Dynamic languages such as JavaScript are more difﬁcult to com-","False","False","True","False","paragraph"
"pile than statically typed ones. Since no concrete type information","False","False","True","False","paragraph"
"is available, traditional compilers need to emit generic code that can","False","False","True","False","paragraph"
"handle all possible type combinations at runtime. We present an al-","False","False","True","False","paragraph"
"ternative compilation technique for dynamically-typed languages","False","False","True","False","paragraph"
"that identiﬁes frequently executed loop traces at run-time and then","False","False","True","False","paragraph"
"generates machine code on the ﬂy that is specialized for the ac-","False","False","True","False","paragraph"
"tual dynamic types occurring on each path through the loop. Our","False","False","True","False","paragraph"
"method provides cheap inter-procedural type specialization, and an","False","False","True","False","paragraph"
"elegant and efﬁcient way of incrementally compiling lazily discov-","False","False","True","False","paragraph"
"ered alternative paths through nested loops. We have implemented","False","False","True","False","paragraph"
"a dynamic compiler for JavaScript based on our technique and we","False","False","True","False","paragraph"
"have measured speedups of 10x and more for certain benchmark","False","False","True","False","paragraph"
"programs.","False","False","True","False","paragraph"
"Categories and Subject Descriptors D.3.4 [Programming Lan-","False","False","False","False","paragraph"
"guages]: Processors — Incremental compilers, code generation.","False","False","False","False","paragraph"
"General Terms Design, Experimentation, Measurement, Perfor-","False","False","False","True","paragraph"
"mance.","False","False","True","False","paragraph"
"Keywords JavaScript, just-in-time compilation, trace trees.","False","False","False","False","paragraph"
"1. Introduction","True","False","True","True","heading"
"Dynamic languages such as JavaScript, Python, and Ruby, are pop-","False","False","False","False","paragraph"
"ular since they are expressive, accessible to non-experts, and make","False","False","True","False","paragraph"
"deployment as easy as distributing a source ﬁle. They are used for","False","False","True","False","paragraph"
"small scripts as well as for complex applications. JavaScript, for","False","False","True","False","paragraph"
"example, is the de facto standard for client-side web programming","False","False","True","False","paragraph"
"Permission to make digital or hard copies of all or part of this work for personal or","False","False","True","False","paragraph"
"classroom use is granted without fee provided that copies are not made or distributed","False","False","True","False","paragraph"
"for proﬁt or commercial advantage and that copies bear this notice and the full citation","False","False","True","False","paragraph"
"on the ﬁrst page. To copy otherwise, to republish, to post on servers or to redistribute","False","False","True","False","paragraph"
"to lists, requires prior speciﬁc permission and/or a fee.","False","False","True","False","paragraph"
"PLDI’09, June 15–20, 2009, Dublin, Ireland.","False","False","False","True","paragraph"
"Copyright c? 2009 ACM 978-1-60558-392-1/09/06. . . $5.00","False","False","True","True","paragraph"
"and is used for the application logic of browser-based productivity","False","False","True","False","paragraph"
"applications such as Google Mail, Google Docs and Zimbra Col-","False","False","True","False","paragraph"
"laboration Suite. In this domain, in order to provide a ﬂuid user","False","False","True","False","paragraph"
"experience and enable a new generation of applications, virtual ma-","False","False","True","False","paragraph"
"chines must provide a low startup time and high performance.","False","False","True","False","paragraph"
"Compilers for statically typed languages rely on type informa-","False","False","True","False","paragraph"
"tion to generate efﬁcient machine code. In a dynamically typed pro-","False","False","True","False","paragraph"
"gramming language such as JavaScript, the types of expressions","False","False","True","False","paragraph"
"may vary at runtime. This means that the compiler can no longer","False","False","True","False","paragraph"
"easily transform operations into machine instructions that operate","False","False","True","False","paragraph"
"on one speciﬁc type. Without exact type information, the compiler","False","False","True","False","paragraph"
"must emit slower generalized machine code that can deal with all","False","False","True","False","paragraph"
"potential type combinations. While compile-time static type infer-","False","False","True","False","paragraph"
"ence might be able to gather type information to generate opti-","False","False","True","False","paragraph"
"mized machine code, traditional static analysis is very expensive","False","False","True","False","paragraph"
"and hence not well suited for the highly interactive environment of","False","False","True","False","paragraph"
"a web browser.","False","False","True","False","paragraph"
"We present a trace-based compilation technique for dynamic","False","False","True","False","paragraph"
"languages that reconciles speed of compilation with excellent per-","False","False","True","False","paragraph"
"formance of the generated machine code. Our system uses a mixed-","False","False","True","False","paragraph"
"mode execution approach: the system starts running JavaScript in a","False","False","True","False","paragraph"
"fast-starting bytecode interpreter. As the program runs, the system","False","False","True","False","paragraph"
"identiﬁes hot (frequently executed) bytecode sequences, records","False","False","False","False","paragraph"
"them, and compiles them to fast native code. We call such a se-","False","False","True","False","paragraph"
"quence of instructions a trace.","False","False","False","False","paragraph"
"Unlike method-based dynamic compilers, our dynamic com-","False","False","True","False","paragraph"
"piler operates at the granularity of individual loops. This design","False","False","True","False","paragraph"
"choice is based on the expectation that programs spend most of","False","False","True","False","paragraph"
"their time in hot loops. Even in dynamically typed languages, we","False","False","True","False","paragraph"
"expect hot loops to be mostly type-stable, meaning that the types of","False","False","False","False","paragraph"
"values are invariant. (12) For example, we would expect loop coun-","False","False","True","False","paragraph"
"ters that start as integers to remain integers for all iterations. When","False","False","True","False","paragraph"
"both of these expectations hold, a trace-based compiler can cover","False","False","True","False","paragraph"
"the program execution with a small number of type-specialized, ef-","False","False","True","False","paragraph"
"ﬁciently compiled traces.","False","False","True","False","paragraph"
"Each compiled trace covers one path through the program with","False","False","True","False","paragraph"
"one mapping of values to types. When the VM executes a compiled","False","False","True","False","paragraph"
"trace, it cannot guarantee that the same path will be followed","False","False","True","False","paragraph"
"or that the same types will occur in subsequent loop iterations.","False","False","True","False","paragraph"
